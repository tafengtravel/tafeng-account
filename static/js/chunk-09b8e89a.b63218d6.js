(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09b8e89a"],{"25f0":function(e,t,n){"use strict";var a=n("6eeb"),o=n("825a"),r=n("d039"),l=n("ad6d"),i="toString",c=RegExp.prototype,s=c[i],u=r((function(){return"/a/b"!=s.call({source:"a",flags:"b"})})),p=s.name!=i;(u||p)&&a(RegExp.prototype,i,(function(){var e=o(this),t=String(e.source),n=e.flags,a=String(void 0===n&&e instanceof RegExp&&!("flags"in c)?l.call(e):n);return"/"+t+"/"+a}),{unsafe:!0})},"2a70":function(e,t,n){},"8d11":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("TableOption",{ref:"child",on:{searchChildEvent:e.search}}),n("div",{staticClass:"el-col-24"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.itemData.filter((function(t){return!e.$refs.child.name||t.name.toLowerCase().includes(e.$refs.child.name.toLowerCase())})),"default-sort":{prop:"number",order:"ascending"},"row-class-name":e.tableRowClassName,"empty-text":"沒有資料"}},[n("el-table-column",{attrs:{type:"index",label:"筆數",width:"75%",fixed:""}}),n("el-table-column",{attrs:{prop:"number",label:"團號",width:"140%",sortable:"","sort-method":function(e,t){return e.number.localeCompare(t.number)}}}),n("el-table-column",{attrs:{prop:"group",label:"團體",width:"90%",formatter:e.group,sortable:"","sort-method":function(e,t){return e.group-t.group}}}),n("el-table-column",{attrs:{prop:"cs",label:"客服",width:"75%"}}),n("el-table-column",{attrs:{prop:"depDate",label:"出發日期",width:"120%",sortable:"","sort-method":function(e,t){return e.depDate.localeCompare(t.depDate)}}}),n("el-table-column",{attrs:{prop:"endDate",label:"結束日期",width:"120%",sortable:"","sort-method":function(e,t){return e.endDate.localeCompare(t.endDate)}}}),n("el-table-column",{attrs:{prop:"name",label:"團名",sortable:"","sort-method":function(e,t){return e.name.localeCompare(t.name)}}}),n("el-table-column",{attrs:{prop:"people",label:"代表人",width:"175%",sortable:"","sort-method":function(e,t){return e.people.localeCompare(t.people)}}}),n("el-table-column",{attrs:{prop:"amount",label:"人數",width:"90%",sortable:"","sort-method":function(e,t){return e.amount.localeCompare(t.amount)}}}),n("el-table-column",{attrs:{prop:"phone",label:"聯絡電話",width:"125%",sortable:"","sort-method":function(e,t){return e.phone-t.phone}}}),n("el-table-column",{attrs:{prop:"priceInsufficient",label:"未收尾款",width:"125%",sortable:"","sort-method":function(e,t){return e.priceInsufficient-t.priceInsufficient}}}),n("el-table-column",{attrs:{prop:"insurance1",label:"旅責",width:"80%",formatter:e.insuranceCheck,sortable:"","sort-method":function(e,t){return e.insurance1-t.insurance1}}}),n("el-table-column",{attrs:{prop:"insuranceComplete1",label:"已保",width:"80%",formatter:e.insuranceCheck,sortable:"","sort-method":function(e,t){return e.insuranceComplete1-t.insuranceComplete1}}}),n("el-table-column",{attrs:{prop:"insurance2",label:"旅平",width:"80%",formatter:e.insuranceCheck,sortable:"","sort-method":function(e,t){return e.insurance2-t.insurance2}}}),n("el-table-column",{attrs:{prop:"insuranceComplete2",label:"已保",width:"80%",formatter:e.insuranceCheck,sortable:"","sort-method":function(e,t){return e.insuranceComplete2-t.insuranceComplete2}}}),n("el-table-column",{attrs:{prop:"other",label:"備註",sortable:"","sort-method":function(e,t){return e.other.localeCompare(t.other)}}}),n("el-table-column",{attrs:{prop:"location",label:"地點",width:"100%",sortable:"","sort-method":function(e,t){return e.location.localeCompare(t.location)}}}),n("el-table-column",{attrs:{prop:"",label:"編輯",width:"60%"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.edit(t.row)}}},[e._v("編輯")])]}}])})],1)],1)],1)},o=[],r=n("5530"),l=(n("d3b7"),n("25f0"),n("a434"),n("159b"),n("17e1")),i=(n("2a70"),n("c1df"),n("5a943")),c={components:{TableOption:i["a"]},data:function(){return{listLoading:!1,itemData:[],month:""}},created:function(){},methods:{insuranceCheck:function(e,t,n,a){return e[t.property]?"✔️":"❌"},group:function(e,t){return e.tax>0&&"團體報帳"!=e.location&&"JOIN報帳"!=e.location&&"跨年"!=e.location?"✔️":""},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2===1?"color-row":""},search:function(e){var t=this;this.listLoading=!0;var n=l["a"].collection(e.month.toString()),a=0;"all"==e.cs?n.onSnapshot((function(e){t.itemData.splice(0,t.itemData.length),e.forEach((function(e){a=parseInt(e.data().price)-parseInt(e.data().income),t.itemData.push(Object(r["a"])(Object(r["a"])({},e.data()),{},{priceInsufficient:a}))})),t.listLoading=!1})):n.where("cs","==",e.cs).onSnapshot((function(e){t.itemData.splice(0,t.itemData.length),e.forEach((function(e){a=parseInt(e.data().price)-parseInt(e.data().income),t.itemData.push(Object(r["a"])(Object(r["a"])({},e.data()),{},{priceInsufficient:a}))})),t.listLoading=!1}))},edit:function(e){console.log(e);var t=this.$router.resolve({path:"/op/edit",query:{number:e.number,depDate:this.$refs.child.month}});window.open(t.href,"_blank")}},mounted:function(){}},s=c,u=n("2877"),p=Object(u["a"])(s,a,o,!1,null,null,null);t["default"]=p.exports},a434:function(e,t,n){"use strict";var a=n("23e7"),o=n("23cb"),r=n("a691"),l=n("50c4"),i=n("7b0b"),c=n("65f0"),s=n("8418"),u=n("1dde"),p=n("ae40"),d=u("splice"),m=p("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,h=Math.min,b=9007199254740991,w="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!d||!m},{splice:function(e,t){var n,a,u,p,d,m,g=i(this),C=l(g.length),v=o(e,C),D=arguments.length;if(0===D?n=a=0:1===D?(n=0,a=C-v):(n=D-2,a=h(f(r(t),0),C-v)),C+n-a>b)throw TypeError(w);for(u=c(g,a),p=0;p<a;p++)d=v+p,d in g&&s(u,p,g[d]);if(u.length=a,n<a){for(p=v;p<C-a;p++)d=p+a,m=p+n,d in g?g[m]=g[d]:delete g[m];for(p=C;p>C-a+n;p--)delete g[p-1]}else if(n>a)for(p=C-a;p>v;p--)d=p+a-1,m=p+n-1,d in g?g[m]=g[d]:delete g[m];for(p=0;p<n;p++)g[p+v]=arguments[p+2];return g.length=C-a+n,u}})}}]);