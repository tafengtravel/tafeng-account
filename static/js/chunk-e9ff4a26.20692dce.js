(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e9ff4a26"],{"21a6":function(e,t,a){(function(a){var o,n,l;(function(a,r){n=[],o=r,l="function"===typeof o?o.apply(t,n):o,void 0===l||(e.exports=l)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function o(e,t,a){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){s(o.response,t,a)},o.onerror=function(){console.error("could not download file")},o.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function l(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(o){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof a&&a.global===a?a:void 0,i=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,t,a){var i=r.URL||r.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener","string"==typeof e?(s.href=e,s.origin===location.origin?l(s):n(s.href)?o(e,t,a):l(s,s.target="_blank")):(s.href=i.createObjectURL(e),setTimeout((function(){i.revokeObjectURL(s.href)}),4e4),setTimeout((function(){l(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,a,r){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,r),a);else if(n(e))o(e,a,r);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){l(i)}))}}:function(e,t,a,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return o(e,t,a);var l="application/octet-stream"===e.type,s=/constructor/i.test(r.HTMLElement)||r.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||l&&s||i)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},u.readAsDataURL(e)}else{var f=r.URL||r.webkitURL,m=f.createObjectURL(e);n?n.location=m:location.href=m,n=null,setTimeout((function(){f.revokeObjectURL(m)}),4e4)}});r.saveAs=s.saveAs=s,e.exports=s}))}).call(this,a("c8ba"))},"25f0":function(e,t,a){"use strict";var o=a("6eeb"),n=a("825a"),l=a("d039"),r=a("ad6d"),i="toString",s=RegExp.prototype,c=s[i],u=l((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),f=c.name!=i;(u||f)&&o(RegExp.prototype,i,(function(){var e=n(this),t=String(e.source),a=e.flags,o=String(void 0===a&&e instanceof RegExp&&!("flags"in s)?r.call(e):a);return"/"+t+"/"+o}),{unsafe:!0})},"2a70":function(e,t,a){},"7a96":function(e,t,a){},"96ef":function(e,t,a){"use strict";a("7a96")},a434:function(e,t,a){"use strict";var o=a("23e7"),n=a("23cb"),l=a("a691"),r=a("50c4"),i=a("7b0b"),s=a("65f0"),c=a("8418"),u=a("1dde"),f=a("ae40"),m=u("splice"),d=f("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,b=Math.min,h=9007199254740991,v="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!m||!d},{splice:function(e,t){var a,o,u,f,m,d,w=i(this),g=r(w.length),y=n(e,g),x=arguments.length;if(0===x?a=o=0:1===x?(a=0,o=g-y):(a=x-2,o=b(p(l(t),0),g-y)),g+a-o>h)throw TypeError(v);for(u=s(w,o),f=0;f<o;f++)m=y+f,m in w&&c(u,f,w[m]);if(u.length=o,a<o){for(f=y;f<g-o;f++)m=f+o,d=f+a,m in w?w[d]=w[m]:delete w[d];for(f=g;f>g-o+a;f--)delete w[f-1]}else if(a>o)for(f=g-o;f>y;f--)m=f+o-1,d=f+a-1,m in w?w[d]=w[m]:delete w[d];for(f=0;f<a;f++)w[f+y]=arguments[f+2];return w.length=g-o+a,u}})},cfe7:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:e.newHuman}},[e._v("新增")]),a("el-dialog",{staticClass:"sub_title",attrs:{title:"基本資料",visible:e.dialogNewHuman},on:{"update:visible":function(t){e.dialogNewHuman=t}}},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.form,inline:!0,"label-position":"left","label-width":"85px"}},[a("el-row",[a("el-form-item",{attrs:{label:"編號"}},[a("el-input",{model:{value:e.form.number,callback:function(t){e.$set(e.form,"number","string"===typeof t?t.trim():t)},expression:"form.number"}})],1)],1),a("el-row",[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"===typeof t?t.trim():t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:"生日"}},[a("el-date-picker",{staticStyle:{width:"250px"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"選擇日期"},model:{value:e.form.birth,callback:function(t){e.$set(e.form,"birth",t)},expression:"form.birth"}})],1),a("el-form-item",{attrs:{label:"身分證"}},[a("el-input",{on:{input:function(t){return e.form.id=e.form.id.toUpperCase()}},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id","string"===typeof t?t.trim():t)},expression:"form.id"}})],1)],1),a("el-row",[a("el-form-item",{attrs:{label:"代號"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{placeholder:"代號"},model:{value:e.form.cs,callback:function(t){e.$set(e.form,"cs",t)},expression:"form.cs"}},e._l(e.csOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"電話"}},[a("el-input",{model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone","string"===typeof t?t.trim():t)},expression:"form.phone"}})],1),a("el-form-item",{attrs:{label:"信箱"}},[a("el-input",{model:{value:e.form.mail,callback:function(t){e.$set(e.form,"mail","string"===typeof t?t.trim():t)},expression:"form.mail"}})],1)],1),a("el-row",[a("el-form-item",{attrs:{label:"入職日期"}},[a("el-date-picker",{staticStyle:{width:"250px"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"選擇日期"},model:{value:e.form.entryDate,callback:function(t){e.$set(e.form,"entryDate",t)},expression:"form.entryDate"}})],1),a("el-form-item",{attrs:{label:"離職日期"}},[a("el-date-picker",{staticStyle:{width:"250px"},attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"選擇日期"},model:{value:e.form.quitDate,callback:function(t){e.$set(e.form,"quitDate",t)},expression:"form.quitDate"}})],1),a("el-form-item",{attrs:{label:"是否在職"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{placeholder:"請選擇"},model:{value:e.form.active,callback:function(t){e.$set(e.form,"active",t)},expression:"form.active"}},[a("el-option",{attrs:{label:"是",value:!0}}),a("el-option",{attrs:{label:"否",value:!1}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogNewHuman=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submitHuman}},[e._v("送 出")])],1)],1),a("div",{staticClass:"el-col-24"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.itemData,"default-sort":{prop:"active",order:"descending"},"row-class-name":e.tableRowClassName,"empty-text":"沒有資料"}},[a("el-table-column",{attrs:{type:"index",label:"筆數",width:"75%",fixed:""}}),a("el-table-column",{attrs:{prop:"number",label:"編號",width:"100%",sortable:"","sort-method":function(e,t){return e.number-t.number}}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"140%",sortable:"","sort-method":function(e,t){return e.name-t.name}}}),a("el-table-column",{attrs:{prop:"cs",label:"代號",width:"100%",sortable:"","sort-method":function(e,t){return e.cs.localeCompare(t.cs)}}}),a("el-table-column",{attrs:{prop:"birth",label:"生日",width:"140%",sortable:"","sort-method":function(e,t){return e.birth.localeCompare(t.birth)}}}),a("el-table-column",{attrs:{prop:"id",label:"身分證",width:"140%",sortable:"","sort-method":function(e,t){return e.id.localeCompare(t.id)}}}),a("el-table-column",{attrs:{prop:"phone",label:"電話",width:"140%",sortable:"","sort-method":function(e,t){return e.phone.localeCompare(t.phone)}}}),a("el-table-column",{attrs:{prop:"mail",label:"信箱",width:"300%"}}),a("el-table-column",{attrs:{prop:"entryDate",label:"入職日期",width:"140%",sortable:"","sort-method":function(e,t){return e.entryDate.localeCompare(t.entryDate)}}}),a("el-table-column",{attrs:{prop:"quitDate",label:"離職日期",width:"140%",sortable:"","sort-method":function(e,t){return e.quitDate.localeCompare(t.quitDate)}}}),a("el-table-column",{attrs:{prop:"active",label:"是否在職",formatter:e.check,width:"120%",sortable:"","sort-method":function(e,t){return e.active-t.active}}}),a("el-table-column",{attrs:{prop:"",label:"編輯"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.editHuman(t.row)}}},[e._v("編輯")])]}}])})],1)],1)],1)],1)},n=[],l=a("5530"),r=a("1da1"),i=a("ade3"),s=(a("96cf"),a("d3b7"),a("25f0"),a("a434"),a("159b"),a("17e1")),c=(a("2a70"),a("c1df"),a("21a6"),{components:{},data:function(){var e;return e={listLoading:!1,itemData:[],month:"",people:"",collection:"cs",dialogNewHuman:!1},Object(i["a"])(e,"itemData",[]),Object(i["a"])(e,"form",{name:"",cs:"",birth:"",id:"",phone:"",mail:"",entryDate:"",quitDate:"",active:""}),Object(i["a"])(e,"submitNew",!1),Object(i["a"])(e,"csOptions",[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"B9",label:"B9"},{value:"B10",label:"B10"},{value:"B11",label:"B11"},{value:"B12",label:"B12"},{value:"OP1",label:"OP1"},{value:"OP2",label:"OP2"},{value:"",label:""}]),e},created:function(){},methods:{check:function(e,t,a,o){return e[t.property]?"✔️":"❌"},newHuman:function(){this.form={number:(this.itemData.length+1).toString()},this.submitNew=!0,this.dialogNewHuman=!0},editHuman:function(e){this.submitNew=!1,this.dialogNewHuman=!0,this.form=e},submitHuman:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=s["a"].collection("human-resources").doc(e.form.number),console.log(a),console.log(e.submitNew),console.log(e.form),t.next=6,a.get().then((function(t){if("undefined"!=typeof t.data()&&1==e.submitNew){if(t.exists&&1==e.submitNew)return e.$message.error("此團號已存在！請重新讀取一次團號！"),0}else a.set(e.form).then((function(){console.log("set data successful"),e.$message.success("新增成功"),e.$router.push({path:"/human/table"})}))}));case 6:e.dialogNewHuman=!1;case 7:case"end":return t.stop()}}),t)})))()},tableRowClassName:function(e){e.row;var t=e.rowIndex;return t%2===1?"color-row":""}},mounted:function(){var e=this,t=s["a"].collection("human-resources");t.onSnapshot((function(t){e.itemData.splice(0,e.itemData.length),t.forEach((function(t){e.itemData.push(Object(l["a"])({},t.data()))})),e.listLoading=!1})),t=s["a"].collection("human-resources").doc("3").collection("record"),t.onSnapshot((function(t){t.forEach((function(e){console.log(e.data())})),e.listLoading=!1})),t.where("entryDate","==","2022-04-14").get().then((function(e){e.forEach((function(e){console.log(e.data())}))}))}}),u=c,f=(a("96ef"),a("2877")),m=Object(f["a"])(u,o,n,!1,null,null,null);t["default"]=m.exports}}]);