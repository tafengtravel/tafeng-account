(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1412faf0"],{"25f0":function(t,e,a){"use strict";var o=a("6eeb"),n=a("825a"),r=a("d039"),l=a("ad6d"),i="toString",c=RegExp.prototype,s=c[i],u=r((function(){return"/a/b"!=s.call({source:"a",flags:"b"})})),p=s.name!=i;(u||p)&&o(RegExp.prototype,i,(function(){var t=n(this),e=String(t.source),a=t.flags,o=String(void 0===a&&t instanceof RegExp&&!("flags"in c)?l.call(t):a);return"/"+e+"/"+o}),{unsafe:!0})},"2a70":function(t,e,a){},"2ae7":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("TableOption",{ref:"child",on:{searchChildEvent:t.search}}),a("div",{staticClass:"el-col-24"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.itemData,"default-sort":{prop:"number",order:"ascending"},"row-class-name":t.tableRowClassName,"empty-text":"沒有資料"}},[a("el-table-column",{attrs:{type:"index",label:"筆數",width:"75%",fixed:""}}),a("el-table-column",{attrs:{prop:"number",label:"團號",width:"140%",sortable:"","sort-method":function(t,e){return t.number.localeCompare(e.number)}}}),a("el-table-column",{attrs:{prop:"group",label:"團體",width:"90%",formatter:t.group,sortable:"","sort-method":function(t,e){return t.group-e.group}}}),a("el-table-column",{attrs:{prop:"cs",label:"客服",width:"75%"}}),a("el-table-column",{attrs:{prop:"depDate",label:"出發日期",width:"120%",sortable:"","sort-method":function(t,e){return t.depDate.localeCompare(e.depDate)}}}),a("el-table-column",{attrs:{prop:"endDate",label:"結束日期",width:"120%",sortable:"","sort-method":function(t,e){return t.endDate.localeCompare(e.endDate)}}}),a("el-table-column",{attrs:{prop:"name",label:"團名",sortable:"","sort-method":function(t,e){return t.name.localeCompare(e.name)}}}),a("el-table-column",{attrs:{prop:"company",label:"公司名稱",sortable:"","sort-method":function(t,e){return t.company.localeCompare(e.company)}}}),a("el-table-column",{attrs:{prop:"people",label:"代表人",width:"175%",sortable:"","sort-method":function(t,e){return t.people.localeCompare(e.people)}}}),a("el-table-column",{attrs:{prop:"amount",label:"人數",width:"90%",sortable:"","sort-method":function(t,e){return t.amount.localeCompare(e.amount)}}}),a("el-table-column",{attrs:{prop:"phone",label:"聯絡電話",width:"125%",sortable:"","sort-method":function(t,e){return t.phone-e.phone}}}),a("el-table-column",{attrs:{prop:"priceInsufficient",label:"未收尾款",width:"120%",sortable:"","sort-method":function(t,e){return t.priceInsufficient-e.priceInsufficient}}}),a("el-table-column",{attrs:{prop:"other",label:"備註",sortable:"","sort-method":function(t,e){return t.other.localeCompare(e.other)}}}),a("el-table-column",{attrs:{prop:"",label:"編輯",width:"60%"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.edit(e.row)}}},[t._v("編輯")])]}}])})],1)],1)],1)},n=[],r=a("5530"),l=(a("d3b7"),a("25f0"),a("a434"),a("159b"),a("17e1")),i=(a("2a70"),a("c1df"),a("5a943")),c={components:{TableOption:i["a"]},data:function(){return{listLoading:!1,itemData:[],month:""}},created:function(){},methods:{insurance:function(t,e){return t.insurance1?"✔️":"❌"},profit:function(t,e){return"團體報帳"==t.location||"JOIN報帳"==t.location||"跨年"==t.location?"0":t.profit},group:function(t,e){return t.tax>0?"✔️":""},tableRowClassName:function(t){t.row;var e=t.rowIndex;return e%2===1?"color-row":""},search:function(t){var e=this;this.listLoading=!0;var a=l["a"].collection(t.month.toString()+"G"),o=0;"all"==t.cs?a.onSnapshot((function(t){e.itemData.splice(0,e.itemData.length),t.forEach((function(t){o=parseInt(t.data().price)-parseInt(t.data().income),e.itemData.push(Object(r["a"])(Object(r["a"])({},t.data()),{},{priceInsufficient:o})),1})),e.itemData.reverse(),e.itemData.reverse()})):a.where("cs","==",t.cs).onSnapshot((function(t){e.itemData.splice(0,e.itemData.length),t.forEach((function(t){o=parseInt(t.data().price)-parseInt(t.data().income),e.itemData.push(Object(r["a"])(Object(r["a"])({},t.data()),{},{priceInsufficient:o})),1})),e.itemData.reverse(),e.itemData.reverse()})),this.listLoading=!1},edit:function(t){console.log(t);var e=this.$router.resolve({path:"/group/edit",query:{number:t.number,depDate:this.$refs.child.month}});window.open(e.href,"_blank")}},mounted:function(){}},s=c,u=a("2877"),p=Object(u["a"])(s,o,n,!1,null,null,null);e["default"]=p.exports},a434:function(t,e,a){"use strict";var o=a("23e7"),n=a("23cb"),r=a("a691"),l=a("50c4"),i=a("7b0b"),c=a("65f0"),s=a("8418"),u=a("1dde"),p=a("ae40"),d=u("splice"),m=p("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,h=Math.min,b=9007199254740991,g="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!d||!m},{splice:function(t,e){var a,o,u,p,d,m,w=i(this),v=l(w.length),D=n(t,v),C=arguments.length;if(0===C?a=o=0:1===C?(a=0,o=v-D):(a=C-2,o=h(f(r(e),0),v-D)),v+a-o>b)throw TypeError(g);for(u=c(w,o),p=0;p<o;p++)d=D+p,d in w&&s(u,p,w[d]);if(u.length=o,a<o){for(p=D;p<v-o;p++)d=p+o,m=p+a,d in w?w[m]=w[d]:delete w[m];for(p=v;p>v-o+a;p--)delete w[p-1]}else if(a>o)for(p=v-o;p>D;p--)d=p+o-1,m=p+a-1,d in w?w[m]=w[d]:delete w[m];for(p=0;p<a;p++)w[p+D]=arguments[p+2];return w.length=v-o+a,u}})}}]);